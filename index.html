<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Protótipo Melhorado - Presenças, Diário e Dashboard</title>
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- Estilos -->
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/style.css" />
    <!-- Chart.js (se necessário) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <!-- Cabeçalho -->
    <header>
      <h1>Confirmação de Presença - Pronatec</h1>
    </header>

    <!-- Navegação principal -->
    <nav class="nav-tabs">
      <button id="tabAluno" class="active">App Aluno</button>
      <button id="tabOperador">Painel Administrativo</button>
    </nav>

    <!-- Seção do App Aluno -->
    <section id="appAluno" class="container">
      <!-- Tela de Login do Aluno -->
      <div id="alunoLoginScreen" class="card">
        <h2>Login do Aluno</h2>
        <p>Entre com suas credenciais do gov.br</p>
        <button id="btnLoginAluno" class="button">Login com gov.br</button>
      </div>

      <!-- Dashboard do Aluno -->
      <div id="alunoDashboardScreen" class="card hidden">
        <h2>Minhas Aulas</h2>
        <ul class="list-group" id="listaAulas">
          <li data-aula-id="1">
            <div class="aula-info">
              <strong class="aula-titulo">Aula 1</strong>
              <div class="aula-detalhes">
                <span class="aula-data">12/02/2025</span>
                <span class="aula-hora">14:00</span>
              </div>
              <small class="aula-curso">Cabeleireiro 240h</small>
            </div>
            <button class="btnDetalhes button">Detalhes</button>
          </li>
          <li data-aula-id="2">
            <div class="aula-info">
              <strong class="aula-titulo">Aula 2</strong>
              <div class="aula-detalhes">
                <span class="aula-data">13/02/2025</span>
                <span class="aula-hora">14:00</span>
              </div>
              <small class="aula-curso">Cabeleireiro 240h</small>
            </div>
            <button class="btnDetalhes button">Detalhes</button>
          </li>
        </ul>
        <div class="btn-group">
          <button id="btnVerCalendario" class="button">Ver Calendário</button>
          <button id="btnInserirCodigoCurso" class="button">Inserir código do curso</button>
        </div>
      </div>

      <!-- Calendário do Aluno -->
      <div id="alunoCalendarioScreen" class="card hidden">
        <h2>Calendário de Cursos e Presenças</h2>
        <div class="calendar">
          <div class="calendar-header">
            <span class="month-label" id="monthLabel"></span>
            <div class="calendar-nav">
              <button id="prevMonth" class="button-small">Anterior</button>
              <button id="btnCurrentMonth" class="button-small">Mês Atual</button>
              <button id="nextMonth" class="button-small">Próximo</button>
            </div>
          </div>
          <div class="calendar-body" id="calendarBody"></div>
        </div>
        <button id="btnConfirmarPresencasMes" class="button">
          Confirmar Presenças do Mês
        </button>

        <!-- Sheet de Confirmação de Presenças -->
        <div id="alunoConfirmSheet" class="aluno-sheet">
          <div class="sheet-content">
            <button id="closeAlunoSheet" class="close-sheet" aria-label="Fechar">&times;</button>
            <h3>Resumo de Presenças</h3>
            <div id="resumoPresencas"></div>
            <button id="btnAssinarGov" class="button">Assinar com gov.br</button>
          </div>
        </div>

        <!-- Timeline de Eventos -->
        <div id="timelineView" class="hidden">
          <h2>Timeline para <span id="timelineDateLabel"></span></h2>
          <ul id="timelineList"></ul>
          <button id="btnVoltarTimeline" class="button" style="background:#ccc; color:#333;">
            Voltar ao Calendário
          </button>
        </div>
        <button id="btnVoltarCalendario" class="button" style="background:#ccc; color:#333;">
          Voltar
        </button>
      </div>

      <!-- Detalhes da Aula -->
      <div id="alunoDetalhesScreen" class="card hidden">
        <h2>Detalhes da Aula</h2>
        <p id="detalhesInfo">Informações da aula selecionada aparecerão aqui.</p>
        <div class="btn-group">
          <button id="btnConfirmarPresenca" class="button">Confirmar Presença</button>
          <button id="btnVoltarDashboard" class="button" style="background:#ccc; color:#333;">
            Voltar
          </button>
        </div>
      </div>

      <!-- Feedback de Presença -->
      <div id="alunoFeedbackScreen" class="card hidden">
        <div class="alert">Presença confirmada com sucesso!</div>
        <button id="btnFecharFeedback" class="button">Fechar</button>
      </div>

      <!-- Tela para Inserir Código do Curso -->
      <div id="alunoCodigoCursoScreen" class="card hidden">
        <h2>Entrar em Curso</h2>
        <p>Insira o código do curso fornecido pelo administrador:</p>
        <input type="text" id="codigoCurso" class="input-field" placeholder="Código do curso" />
        <div class="btn-group">
          <button id="btnEntrarCurso" class="button">Entrar no Curso</button>
          <button id="btnVoltarDashboardCodigo" class="button" style="background:#ccc; color:#333;">
            Voltar
          </button>
        </div>
      </div>

      <!-- Tela de QR Code para Confirmação de Presença -->
      <div id="alunoQRCodeScreen" class="card hidden">
        <h2>Confirmação de Presença</h2>
        <p>Escaneie o QR Code exibido na aula para confirmar sua presença.</p>
        <img
          src="https://api.qrserver.com/v1/create-qr-code/?data=QR+Code+Exemplo&size=200x200"
          alt="QR Code"
          class="qr-code"
        />
        <div class="btn-group">
          <button id="btnSimularQRScan" class="button">Simular Leitura do QR Code</button>
          <button id="btnVoltarDetalhesQRCode" class="button" style="background:#ccc; color:#333;">
            Voltar
          </button>
        </div>
      </div>
    </section>

    <!-- Seção do Painel Administrativo -->
    <section id="painelOperador" class="container hidden">
      <!-- Tela de Login do Operador -->
      <div id="operadorLoginForm" class="card">
        <h2>Login - Painel Administrativo</h2>
        <p>Entre com suas credenciais</p>
        <input type="text" placeholder="Usuário" class="input-field" />
        <input type="password" placeholder="Senha" class="input-field" />
        <button id="btnLoginOperador" class="button">Login</button>
      </div>

      <!-- Dashboard do Operador -->
      <div id="operadorDashboard" class="card hidden">
        <div id="adminHamburgerContainer" class="admin-hamburger-container">
          <button id="adminHamburger" class="button-hamburger" aria-label="Abrir menu">&#9776;</button>
          <nav id="adminSidebarMenu" class="admin-sidebar">
            <button id="closeSidebar" class="close-btn" aria-label="Fechar menu">&times;</button>
            <h3>Dashboards de Cursos</h3>
            <a href="#" id="linkCurso1">Dashboard do Curso - Cabeleireiro 240h</a>
            <a href="#" id="linkCurso2">Dashboard do Curso - Curso X</a>
          </nav>
        </div>
        <div id="adminSidebarOverlay" class="admin-sidebar-overlay"></div>
        <h2>Dashboard Administrativo</h2>
        <div class="metrics-grid">
          <div class="metric-card">
            <h3>Total de Alunos</h3>
            <p class="metric-value">120</p>
          </div>
          <div class="metric-card">
            <h3>Total de Cursos</h3>
            <p class="metric-value">4</p>
          </div>
          <div class="metric-card">
            <h3>Aulas deste Mês</h3>
            <p class="metric-value">20</p>
          </div>
        </div>
        <div class="btn-group">
          <button id="btnVerCursos" class="button">Gerenciar Cursos</button>
          <button id="btnCadastrarAluno" class="button">Cadastrar Alunos</button>
        </div>
      </div>

      <!-- Tela de Gerenciamento de Cursos -->
      <div id="operadorCursos" class="card hidden">
        <h2>Gerenciamento de Cursos</h2>
        <form id="formCurso">
          <label for="nomeCurso">Nome do Curso</label>
          <input type="text" id="nomeCurso" class="input-field" placeholder="Ex: Cabeleireiro" required />

          <label for="dataInicio">Data de Início</label>
          <input type="date" id="dataInicio" class="input-field" required />

          <label for="dataFim">Data de Término</label>
          <input type="date" id="dataFim" class="input-field" required />

          <label>Selecione os dias da semana e defina o turno</label>
          <div class="dias-grid">
            <div class="dia-card" data-dia="Seg">
              <span>Seg</span>
              <div class="dia-turno">
                <select>
                  <option value="Manhã" selected>Manhã</option>
                  <option value="Tarde">Tarde</option>
                  <option value="Noite">Noite</option>
                </select>
              </div>
            </div>
            <div class="dia-card" data-dia="Ter">
              <span>Ter</span>
              <div class="dia-turno">
                <select>
                  <option value="Manhã">Manhã</option>
                  <option value="Tarde" selected>Tarde</option>
                  <option value="Noite">Noite</option>
                </select>
              </div>
            </div>
            <div class="dia-card" data-dia="Qua">
              <span>Qua</span>
              <div class="dia-turno">
                <select>
                  <option value="Manhã" selected>Manhã</option>
                  <option value="Tarde">Tarde</option>
                  <option value="Noite">Noite</option>
                </select>
              </div>
            </div>
            <div class="dia-card" data-dia="Qui">
              <span>Qui</span>
              <div class="dia-turno">
                <select>
                  <option value="Manhã">Manhã</option>
                  <option value="Tarde" selected>Tarde</option>
                  <option value="Noite">Noite</option>
                </select>
              </div>
            </div>
            <div class="dia-card" data-dia="Sex">
              <span>Sex</span>
              <div class="dia-turno">
                <select>
                  <option value="Manhã" selected>Manhã</option>
                  <option value="Tarde">Tarde</option>
                  <option value="Noite">Noite</option>
                </select>
              </div>
            </div>
          </div>
          <label for="horasPorAula">Horas por Aula</label>
          <input type="number" id="horasPorAula" class="input-field" min="1" max="8" value="2" required />
          <label for="cargaHorariaTotal">Carga Horária Total do Curso</label>
          <input type="text" id="cargaHorariaTotal" class="input-field" readonly />
          <div class="btn-group">
            <button type="button" class="button" onclick="salvarCurso()">Salvar Curso</button>
            <button type="button" id="btnVoltarDashboardOperador1" class="button" style="background:#ccc; color:#333;">
              Voltar
            </button>
          </div>
        </form>
      </div>

      <!-- Dashboard do Curso -->
      <div id="operadorDashboardCurso" class="card hidden">
        <h2>Dashboard do Curso</h2>
        <div class="course-code-container">
          Código do Curso: <span id="courseCodeDisplay" class="course-code"></span>
        </div>
        <nav class="nav-tabs-course">
          <button id="tabRegistroChamada" class="active">Registro de Chamada</button>
          <button id="tabDiarioCurso">Visualizar Diário</button>
        </nav>
        <div id="contentRegistroChamada" class="course-content">
          <div id="adminCalendarContainer">
            <div class="admin-calendar-header">
              <span class="month-label" id="adminMonthLabel"></span>
              <div class="calendar-nav">
                <button id="adminPrevMonth" class="button-small">Anterior</button>
                <button id="adminCurrentMonth" class="button-small">Mês Atual</button>
                <button id="adminNextMonth" class="button-small">Próximo</button>
              </div>
            </div>
            <div id="adminCalendar"></div>
          </div>
          <div id="adminClassDetails" class="hidden"></div>
        </div>
        <div id="contentDiarioCurso" class="course-content hidden">
          <h3>Diário do Curso</h3>
          <table class="diario-table">
            <thead>
              <tr>
                <th>Aluno</th>
                <th>Data</th>
                <th>Presença</th>
                <th>Observações</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>João da Silva</td>
                <td>05/07/2025</td>
                <td>Presente</td>
                <td>-</td>
              </tr>
              <tr>
                <td>Maria Oliveira</td>
                <td>05/07/2025</td>
                <td>Falta</td>
                <td>Motivo: Atraso</td>
              </tr>
            </tbody>
          </table>
        </div>
        <button id="btnVoltarDashboardCurso" class="button" style="background:#ccc; color:#333;">
          Voltar
        </button>
      </div>

      <!-- Sheet do Operador para QR Code -->
      <div id="adminClassSheet" class="admin-sheet">
        <div class="sheet-content">
          <button id="closeSheet" class="close-sheet" aria-label="Fechar">&times;</button>
          <h3 id="sheetClassLabel"></h3>
          <p id="sheetClassDateTime"></p>
          <div id="sheetQRCodeContainer"></div>
          <button id="sheetRegenerateQRCode" class="button">Gerar QR Code Novamente</button>
        </div>
      </div>

      <!-- Tela de Cadastro de Alunos -->
      <div id="operadorCadastrarAluno" class="card hidden">
        <h2>Cadastrar Alunos</h2>
        <form id="formCadastrarAluno">
          <label for="nomeAluno">Nome</label>
          <input type="text" id="nomeAluno" class="input-field" placeholder="Nome completo" required />

          <label for="emailAluno">Email</label>
          <input type="email" id="emailAluno" class="input-field" placeholder="email@exemplo.com" required />

          <label for="cpfAluno">CPF</label>
          <input type="text" id="cpfAluno" class="input-field" placeholder="000.000.000-00" required />

          <label for="cursoAluno">Curso</label>
          <input type="text" id="cursoAluno" class="input-field" placeholder="Curso" required />

          <label for="dataNascimentoAluno">Data de Nascimento</label>
          <input type="date" id="dataNascimentoAluno" class="input-field" required />

          <div class="btn-group">
            <button type="submit" class="button">Cadastrar Alunos</button>
            <button type="button" id="btnVoltarDashboardAluno" class="button" style="background:#ccc; color:#333;">
              Voltar
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- Scripts -->
    <script src="index.js"></script>
  </body>
</html>
